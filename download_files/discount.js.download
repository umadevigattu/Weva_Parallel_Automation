let elementModal=document.getElementById('discountNotification');let embedimSnow=document.getElementById("embedim--snow");if(embedimSnow){function embRand(a,b){return Math.floor(Math.random()*(b-a+1))+a}
var embCSS='.embedim-snow{position: absolute;width: 10px;height: 10px;background: white;border-radius: 50%;margin-top:-10px}';var embHTML='';for(i=1;i<200;i++){embHTML+='<i class="embedim-snow"></i>';var rndX=(embRand(0,1000000)*0.0001),rndO=embRand(-100000,100000)*0.0001,rndT=(embRand(3,8)*10).toFixed(2),rndS=(embRand(0,10000)*0.0001).toFixed(2);embCSS+='.embedim-snow:nth-child('+i+'){'+'opacity:'+(embRand(1,10000)*0.0001).toFixed(2)+';'+'transform:translate('+rndX.toFixed(2)+'vw,-10px) scale('+rndS+');'+'animation:fall-'+i+' '+embRand(10,30)+'s -'+embRand(0,30)+'s linear infinite'+'}'+'@keyframes fall-'+i+'{'+rndT+'%{'+'transform:translate('+(rndX+rndO).toFixed(2)+'vw,'+rndT+'vh) scale('+rndS+')'+'}'+'to{'+'transform:translate('+(rndX+(rndO/2)).toFixed(2)+'vw, 105vh) scale('+rndS+')'+'}'+'}'}
embedimSnow=document.createElement('div');embedimSnow.id='embedim--snow';embedimSnow.innerHTML='<style>#embedim--snow{position:fixed;left:0;top:0;bottom:0;width:100vw;height:100vh;overflow:hidden;z-index:9999999;pointer-events:none}'+embCSS+'</style>'+embHTML;}
let embedimHeart=document.getElementById("embedim--heart");if(embedimHeart){var embCSS='';embCSS+='.heart { position: relative; } .heart:before, .heart:after { position: absolute; content: ""; left: 18px; top: 0; width: 18px; height: 30px; background: #CC2022; -moz-border-radius: 20px 50% 0 0; border-radius: 30px 30px 0 0; -webkit-transform: rotate(-45deg); -ms-transform: rotate(-45deg); transform: rotate(-45deg); -webkit-transform-origin: 0 100%; -ms-transform-origin: 0 100%; transform-origin: 0 100%; } .heart:after { left: 0; -webkit-transform: rotate(45deg); -ms-transform: rotate(45deg); transform: rotate(45deg); -webkit-transform-origin: 100% 100%; -ms-transform-origin: 100% 100%; transform-origin :100% 100%;}'
var embHTML='';for(i=2;i<10;i++){index=i-2;var left=[5,25,40,55,60,72,88,90]
var opacity=[0.6,0.5,0.8,0.9,0.3,0.6,0.2,0.4]
var transform=[0.6,0.5,0.8,0.9,0.3,0.5,0.4,0.2]
var moveclouds=['15s','25s','20s','18s','12s','15s','10s','12s']
var sideWays=['4s','5s','4s','7s','8s','5s','6s','6s']
embHTML+='<i class="heart x"></i>';embCSS+='.x:nth-child('+i+'){ left: '+(left[index])+'%; -webkit-transform: scale(0.6);-moz-transform: scale('+(transform[index])+');transform: scale('+(transform[index])+');opacity: '+(opacity[index])+';-webkit-animation: moveclouds '+(moveclouds[index])+' linear infinite, sideWays 5s ease-in-out infinite alternate;-moz-animation: moveclouds '+(sideWays[index])+' linear infinite, sideWays 5s ease-in-out infinite alternate;}@-webkit-keyframes moveclouds {0% { top: '+window.innerHeight+'px; } 100% { top: -'+window.innerHeight+'px; } }';embCSS+='@keyframes moveclouds { 0% { top: '+window.innerHeight+'px; } 100% { top: -'+window.innerHeight+'px; } } @-webkit-keyframes sideWays { 0% { margin-left:0px; } 100% { margin-left:50px; } } @keyframes sideWays { 0% { margin-left:0px; } 100% { margin-left:50px; } } @-keyframes swayWays { 0% { transform: rotate(12deg); left:-0.3%; } 33%{ transform: rotate(-2deg); left: 0.7%; } 100% { transform: rotate(0deg); left:-12%; } }';}
embedimHeart=document.createElement('div');embedimHeart.id='embedim--heart';embedimHeart.innerHTML='<style>#embedim--heart{position:fixed;left:0;top:0;bottom:0;width:100vw;height:100vh;overflow:hidden;z-index:9999999;pointer-events:none}'+embCSS+'</style>'+embHTML;}
function setCookie(cname,cvalue){const d=new Date();d.setTime(d.getTime()+(1*60*60*1000));let expires='expires='+d.toUTCString();document.cookie=cname+'='+cvalue+';'+expires+';path=/';}
function getCookie(cname){let name=cname+'=';let ca=document.cookie.split(';');for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return'';}
window.addEventListener('load',(event)=>{let discountNotification=new bootstrap.Modal(elementModal,{});if(!getCookie('discountPrice')&&window.location.pathname!='/pricing'){if(elementModal.dataset.effect=="snow"){document.body.appendChild(embedimSnow);}
if(elementModal.dataset.effect=="heart"){document.body.appendChild(embedimHeart);}
let whiteList=["#examples","#privacypolicy","#tools","#tool"];if(!whiteList.includes(window.location.hash)){discountNotification.show();Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/discount/${elementModal.dataset.show}`,{type:elementModal.dataset.show},function(){});}}
if(document.getElementById('discountNotification')){document.getElementById('discountNotification').addEventListener('hidden.bs.modal',function(key,value){Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/discount/${elementModal.dataset.close}`,{type:elementModal.dataset.close},function(){});setCookie('discountPrice',true);setCookie('discountPriceTime',Date.now());try{if(embedimHeart){document.body.removeChild(embedimHeart);}
if(embedimSnow){document.body.removeChild(embedimSnow);}}catch(e){}
if(typeof googleAuthRender==="function"){googleAuthRender();}});}
const btnDetail=document.getElementById('view-detail');btnDetail.addEventListener('click',function handleClick(){if(!btnDetail.querySelector('#btn-view').hasAttribute('disabled')){btnDetail.querySelector('#btn-view').textContent='Loading...';btnDetail.querySelector('#btn-view').setAttribute('disabled','disabled');Site.POST(`/api/v1/stats/ui/${document.getElementById("siteinfo").dataset.category}/discount/${elementModal.dataset.click}`,{type:elementModal.dataset.click},function(state){if(state.readyState==4){setCookie('discountPrice',true);setCookie('discountPriceTime',Date.now());try{if(embedimHeart){document.body.removeChild(embedimHeart);}
if(embedimSnow){document.body.removeChild(embedimSnow);}}catch(e){}
discountNotification.hide();window.location='/pricing';}});}});function formatNumber(number){return(number<10?'0':'')+number;}
const countDown=document.getElementById('countdown');if(countDown){var now=new Date(countDown.dataset.start).getTime()+1000;var countDownDate=new Date(countDown.dataset.end).getTime();var x=setInterval(function(){now+=1000;var distance=countDownDate-now;var days=Math.floor(distance/(1000*60*60*24));var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));var minutes=Math.floor((distance%(1000*60*60))/(1000*60));var seconds=Math.floor((distance%(1000*60))/1000);document.getElementById('countdown').innerHTML=formatNumber(hours)+':'
+formatNumber(minutes)+':'+formatNumber(seconds);if(distance<0){clearInterval(x);document.getElementById('countdown').innerHTML='EXPIRED';}},1000);}});;